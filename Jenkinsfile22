pipeline {
    agent any

    stages {
        stage('validate') {
            steps {
               sh "mvn validate"
               sh "mvn clean"
            }
        }
         stage('Build') {
            steps {
               sh "mvn compile"
               
            }
        }
         stage('Test') {
            steps {
               sh "mvn Test"
               
            }
            post {
                always{
                    junit '**/target/surefire-reports/TEST-8.xml'
                }
            }
        }
        stage('package') {
            steps {
               sh "mvn package"
            }
            post {
                success{
                    archiveArtifacts artifacts: '**/target/**.war', followsymlinks: false
                }
            }
}